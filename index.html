<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Brisa Marinha</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/suncalc@1.9.0/suncalc.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js" defer></script>

    <script src="app.js" defer></script>
</head>

<body>
    <main class="shell">
        <!-- título + data -->
        <header class="hero-head">
            <h1>Brisa Marinha</h1>
            <p id="nowDate">—</p>
        </header>

        <!-- zona superior: ícone + temperatura + métricas -->
        <section class="hero-top">
            <div class="now-left">
                <div class="now-icon">
                    <svg class="bm-ico" id="bm-now-ico" viewBox="0 0 24 24" role="img" aria-label="Estado atual">
                        <use href="#bm-icon-partly-cloudy-day"></use>
                    </svg>
                </div>


                <div class="now-temp">
                    <span id="temp">--</span><span class="deg">°C</span>
                    <div class="feels">sensação <span id="apparent">--</span>°</div>
                </div>
            </div>

            <div class="now-metrics">
                <div class="m">
                    <span>Nascer</span><strong id="sunrise">--:--</strong>
                </div>
                <div class="m">
                    <span>Pôr-do-sol</span><strong id="sunset">--:--</strong>
                </div>

                <div class="m">
                    <span>Vento</span>
                    <strong><span id="wind">--</span> km/h</strong>
                </div>
                <div class="m">
                    <span>Rajada / Dir</span>
                    <strong><span id="gust">--</span> · <span id="winddir">—</span></strong>
                </div>

                <div class="m"><span>Humidade</span><strong id="rh">--</strong></div>
                <div class="m">
                    <span>P. Orvalho</span><strong id="dew">--</strong>
                </div>

                <div class="m">
                    <span>Pressão</span><strong><span id="press">--</span> hPa</strong>
                </div>
                <div class="m"><span>UV</span><strong id="uv">--</strong></div>

                <div class="m"><span>Chuva (hoje)</span><strong><span id="rainToday">—</span> mm</strong></div>

                <div class="m">
                    <span>Chuva (24h)</span><strong><span id="rain24">--</span> mm</strong>
                </div>
            </div>
        </section>

        <!-- parte inferior: previsão 3 dias + gráfico -->
        <section class="bottom">
            <aside class="forecast">
                <h2 class="forecast-title">Previsão</h2>
                <ul id="forecast" class="days">
                    <!-- 3 itens via JS -->
                </ul>
            </aside>

            <section class="chart">
                <header class="chart-title">Últimas 24 horas</header>
                <div class="chart-canvas">
                    <canvas id="histChart"></canvas>
                </div>
                <div class="chart-legend">
                    <span class="dot t"></span> Temperatura
                    <span class="dot r"></span> Precipitação
                </div>
            </section>
        </section>

        <footer class="foot">
            <span id="staleFlag" class="ok">Estação online</span>
            <span class="sep">•</span>
            <span id="nextRefresh">Próxima atualização <strong id="age">—</strong></span>
        </footer>

    </main>

    <!-- SPRITE Brisa Marinha -->
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none">
        <defs>
            <!-- shapes atómicas -->
            <g id="shape-sun" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round">
                <path
                    d="m256,105.5c-83.9,0-152.2,68.3-152.2,152.2 0,83.9 68.3,152.2 152.2,152.2 83.9,0 152.2-68.3 152.2-152.2 0-84-68.3-152.2-152.2-152.2zm0,263.5c-61.4,0-111.4-50-111.4-111.4 0-61.4 50-111.4 111.4-111.4 61.4,0 111.4,50 111.4,111.4 0,61.4-50,111.4-111.4,111.4z" />
                <path
                    d="m256,74.8c11.3,0 20.4-9.1 20.4-20.4v-23c0-11.3-9.1-20.4-20.4-20.4-11.3,0-20.4,9.1-20.4,20.4v23c2.84217e-14,11.3 9.1,20.4 20.4,20.4z" />
                <path
                    d="m256,437.2c-11.3,0-20.4,9.1-20.4,20.4v22.9c0,11.3 9.1,20.4 20.4,20.4 11.3,0 20.4-9.1 20.4-20.4v-22.9c0-11.2-9.1-20.4-20.4-20.4z" />
                <path
                    d="m480.6,235.6h-23c-11.3,0-20.4,9.1-20.4,20.4 0,11.3 9.1,20.4 20.4,20.4h23c11.3,0 20.4-9.1 20.4-20.4 0-11.3-9.1-20.4-20.4-20.4z" />
                <path
                    d="m54.4,235.6h-23c-11.3,0-20.4,9.1-20.4,20.4 0,11.3 9.1,20.4 20.4,20.4h22.9c11.3,0 20.4-9.1 20.4-20.4 0.1-11.3-9.1-20.4-20.3-20.4z" />
                <path
                    d="M400.4,82.8L384.1,99c-8,8-8,20.9,0,28.9s20.9,8,28.9,0l16.2-16.2c8-8,8-20.9,0-28.9S408.3,74.8,400.4,82.8z" />
                <path
                    d="m99,384.1l-16.2,16.2c-8,8-8,20.9 0,28.9 8,8 20.9,8 28.9,0l16.2-16.2c8-8 8-20.9 0-28.9s-20.9-7.9-28.9,0z" />
                <path
                    d="m413,384.1c-8-8-20.9-8-28.9,0-8,8-8,20.9 0,28.9l16.2,16.2c8,8 20.9,8 28.9,0 8-8 8-20.9 0-28.9l-16.2-16.2z" />
                <path
                    d="m99,127.9c8,8 20.9,8 28.9,0 8-8 8-20.9 0-28.9l-16.2-16.2c-8-8-20.9-8-28.9,0-8,8-8,20.9 0,28.9l16.2,16.2z" />
            </g>
            <g id="shape-moon" stroke="currentColor" fill="none" stroke-width="2">
                    <path d="m494.9,331.3c-6.1-6.1-15.3-7.8-23.2-4.2-37.1,17.1-78.3,23.2-119,17.6-117.3-16.3-199.5-125.2-183.3-242.8 3-21.4 9-42.2 18.1-61.6 3.6-7.8 2-17.1-4.1-23.2-6.1-6.1-15.3-7.7-23.2-4.2-43.7,19.4-130.3,81.1-146.5,197.9-25.8,186.5 139,284.9 218.4,289.2 55.7,3.1 189.9,8.1 266.9-145.5 3.8-7.7 2-17.1-4.1-23.2zm-257.2,127.9c-117.3-16.3-199.5-125.2-183.3-242.8 7.6-55 35.5-103.8 77.4-137.7-1.2,5.8-2.2,11.6-3,17.5-27.2,193.6 143,282.8 218.3,289.2 29,2.5 57.9,3.1 86-2.7-46.5,57.2-119.7,87-195.4,76.5z"/>
            </g>
            <g id="shape-cloud" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round">
                <path d="M6 18h11a4 4 0 0 0 0-8 6 6 0 0 0-11-1 4 4 0 0 0 0 9z" />
            </g>
            <g id="shape-raindrops" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round">
                <path d="M9 20c0 .8-.7 1.5-1.5 1.5S6 20.8 6 20s1.5-3 1.5-3 1.5 2.2 1.5 3z" />
                <path d="M15 20c0 .8-.7 1.5-1.5 1.5S12 20.8 12 20s1.5-3 1.5-3 1.5 2.2 1.5 3z" />
            </g>
            <g id="shape-drizzle" stroke="currentColor" fill="none" stroke-width="2">
                <path d="M6 20l2-2M11 21l2-2M16 20l2-2" />
            </g>
            <g id="shape-snow" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round">
                <path d="M8 20l2-2m0 0l2 2m-2-2v-3M14 20l2-2m0 0l2 2m-2-2v-3M10 14h4" />
            </g>
            <g id="shape-bolt" stroke="currentColor" fill="none" stroke-width="2">
                <path d="M13 10l-3 5h3l-2 5 6-8h-3l2-4z" />
            </g>
            <g id="shape-fog" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round">
                <path d="M4 18h12M2 21h14M3 15h16" />
            </g>
            <g id="shape-hail" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round">
                <circle cx="7" cy="20" r="1" />
                <circle cx="11" cy="21" r="1" />
                <circle cx="15" cy="20" r="1" />
            </g>
            <g id="shape-wind" stroke="currentColor" fill="none" stroke-width="2" stroke-linecap="round">
                <path d="M2 18h10a3 3 0 1 0-3-3M2 14h8a2.5 2.5 0 1 0-2.5-2.5" />
            </g>

            <!-- ícones compostos -->
            <g id="bm-icon-clear-day">
                <use href="#shape-sun" />
            </g>
            <g id="bm-icon-clear-night">
                <use href="#shape-moon" />
            </g>

            <g id="bm-icon-partly-cloudy-day">
    <path d="m394.2,286.9c-1.6,0-3.2,0-4.8,0.1 10.6-24.6 16.1-51.2 16.1-78.2 0-109.1-88.5-197.8-197.2-197.8s-197.3,88.7-197.3,197.7c0,48.4 18,94.6 48.9,130.1-28.9,13.6-48.9,43-48.9,77.1 0,46.9 38.1,85.1 84.9,85.1h298.3c58.9,0 106.8-48 106.8-107.1s-47.9-107-106.8-107zm-185.9-235.1c86.3-1.42109e-14 156.6,70.4 156.6,157 0,18.6-3.3,37-9.7,54.3-6.9-10.2-15.2-19.3-24.5-27.1 2-8.9 3-18 3-27.2 0-69.3-56.2-125.7-125.4-125.7-69.1,0-125.4,56.4-125.4,125.7 0,35.9 14.8,68.6 39.3,91.6-3,10.5-4.7,21.6-5,33.1-1.8-0.5-3.7-0.9-5.6-1.3-37.2-29.4-60-75-60-123.5 0.1-86.5 70.3-156.9 156.7-156.9zm-67.1,209c-11.2-14.5-17.7-32.6-17.7-52.1 0-46.8 38-84.9 84.7-84.9s84.7,38.1 84.7,84.9c0,1.7-0.1,3.5-0.2,5.2-14.2-5.3-29.5-8.2-45.5-8.2-43.6-2.84217e-14-82.4,21.8-106,55.1zm253,199.1h-298.3c-24.2,0-44-19.8-44-44.1s19.7-44.1 44-44.1c12.5,0 24.4,5.3 32.7,14.7 6.5,7.3 17.3,8.9 25.7,4 8.4-5 12.1-15.2 8.9-24.5-3.4-9.5-5-19.5-5-29.7 0-49.3 40-89.4 89.2-89.4 43.2,0 80.2,30.9 87.8,73.5 1.1,6.4 5.2,11.9 11,14.7 5.8,2.9 12.6,2.9 18.4-0.1 9.3-4.7 19.2-7.1 29.7-7.1 36.3,0 65.9,29.6 65.9,66s-29.7,66.1-66,66.1z"/>
            </g>
            <g id="bm-icon-partly-cloudy-night">
                <use href="#shape-moon" />
                <use href="#shape-cloud" transform="translate(6,6)" />
            </g>

            <g id="bm-icon-cloudy">
                <use href="#shape-cloud" />
            </g>
            <g id="bm-icon-overcast">
                <use href="#shape-cloud" />
                <use href="#shape-cloud" transform="translate(2,2) scale(1.15)" />
            </g>

            <g id="bm-icon-drizzle">
                <use href="#shape-cloud" />
                <use href="#shape-drizzle" />
            </g>
            <g id="bm-icon-rain">
                <use href="#shape-cloud" />
                <use href="#shape-raindrops" />
            </g>
            <g id="bm-icon-heavy-rain">
                <use href="#shape-cloud" />
                <use href="#shape-raindrops" />
                <use href="#shape-raindrops" transform="translate(0,2)" />
            </g>

            <g id="bm-icon-thunder">
                <use href="#shape-cloud" />
                <use href="#shape-bolt" />
            </g>

            <g id="bm-icon-sleet">
                <use href="#shape-cloud" />
                <use href="#shape-raindrops" />
                <use href="#shape-snow" transform="translate(0,2) scale(.9)" />
            </g>
            <g id="bm-icon-freezing-rain">
                <use href="#shape-cloud" />
                <use href="#shape-raindrops" />
                <use href="#shape-hail" transform="translate(0,1)" />
            </g>

            <g id="bm-icon-snow">
                <use href="#shape-cloud" />
                <use href="#shape-snow" />
            </g>
            <g id="bm-icon-hail">
                <use href="#shape-cloud" />
                <use href="#shape-hail" />
            </g>

            <g id="bm-icon-fog">
                <use href="#shape-cloud" />
                <use href="#shape-fog" />
            </g>
            <g id="bm-icon-wind">
                <use href="#shape-wind" />
            </g>

            <g id="bm-icon-unknown">
                <use href="#shape-cloud" />
            </g>
        </defs>
    </svg>
</body>

</html>